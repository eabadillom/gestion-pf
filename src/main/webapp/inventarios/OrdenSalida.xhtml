<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/template.xhtml">

	<ui:define name="title">Ordenes de salida</ui:define>

	<ui:define name="content">
		<h:form id="form">
			<p:growl id="messages" showDetail="true" life="2000"/>
			<p:panel header="DATOS GENERALES">
				<div class="p-grid ui-fluid p-col-12">
				
					<div class="p-col-6 p-md-6">
						<p:selectOneMenu id="cliente-som" autoWidth="false"  value="#{ordenSalidaBean.clienteSelect}" converter="entityConverter" >
							<f:selectItem itemLabel="Cliente..." itemValue="" noSelectionOption="true"/>
							<f:selectItems value="#{ordenSalidaBean.listaClientes}" var="cliente" itemLabel="#{cliente.cteNombre}" itemValue="#{cliente}"></f:selectItems>
						</p:selectOneMenu>
					</div>
					
					<div class="p-col-6 p-md-6">
						<p:selectOneMenu id="folio-som" autoWidth="false"  value="#{ordenSalidaBean.ordensalida}" converter="entityConverter" style="width:250px; heigth:1px">
							<f:selectItem itemLabel="Ordenes confirmadas para hoy.." itemValue="" noSelectionOption="true"/>
							<f:selectItems value="#{ordenSalidaBean.listaOrdenSalida}" var="folio" itemLabel="#{folio.folioSalida}" itemValue="#{folio.folioSalida}"></f:selectItems>
						<p:ajax process ="@this" update="txtfecha"/>
						</p:selectOneMenu>
					</div>
					
					
					</div>
					<p:toolbar>
							<p:toolbarGroup>
							
	             			<div class="col-5 flex align-items-center justify-content-center">
			    			<p:inputText id="txtfecha" value="#{ordenSalidaBean.ordensalida.fechaSalida}" placeholder="Fecha" readonly="true" style="width:150px; heigth:1px" />
		   					</div>
		   					
		   					 <div class="col-2">
					            <p:divider layout="vertical">
					            </p:divider>
					         </div>
					         
					      <div class="col-5 flex align-items-center justify-content-center">
			    		<p:inputText id="txtHora" value="#{ordenSalidaBean.ordensalida.tmSalida}" placeholder="Hora" readonly="true" style="width:150px; heigth:1px"/>
		    			</div>
		    			
		    			<p:divider />
		    			
		    			<div class="col-5 flex align-items-center justify-content-center">
			    		<p:inputText id="txtnomOperador" value="#{ordenSalidaBean.ordensalida.nombreOperador}" placeholder="Nombre del operador" style="width:450px; heigth:1px"/>
		    			</div>
		    			
		    			<div class="col-2">
					            <p:divider layout="vertical">
					            </p:divider>
					         </div>
					         
		    			<div class="p-col-6 p-md-6">
			    		<p:inputText id="txtplacas" value="#{ordenSalidaBean.ordensalida.nombrePlacas}" placeholder="Placas"  style="width:150px; heigth:1px"/>
		    			</div>
		    			
		    			<div class="col-5 flex align-items-center justify-content-center">
			    		<p:inputText id="txtObservaciones" value="#{ordenSalidaBean.ordensalida.nombrePlacas}" placeholder="Observaciones"  style="width:650px; heigth:1px"/>
		    			</div>
		    		</p:toolbarGroup>
						 </p:toolbar>
</p:panel>
			<p:panel >
				<p:dataTable id="dt-partidas" widgetVar="dtPartida" value="#{constanciaDeDepositoBean.listadoPartida}" var="partida" paginator="false"
							  rowSelectMode="add" rows="10" rowKey="#{partida.pesoTotal}" reflow="true" selection="#{constanciaDeDepositoBean.selectedPartidas}" tableStyle="table-layout: auto;">
					<p:column exportable="false" width="3%">
						<p:rowToggler />
					</p:column>							
					<p:column headerText="Confirmar">
        				<p:selectBooleanCheckbox value="#{ordenSalidaBean.confirmacion}" itemLabel="Basic"/>
					</p:column>
					<p:column headerText="Planta">
						<h:outputText value="#{partida.pesoTotal}"/>
					</p:column>
					<p:column headerText="Cod. Prod.">
						<h:outputText value="#{partida.cantidadTotal}"/>
					</p:column>
					<p:column headerText="Codigo">
						<h:outputText value="#{partida.unidadDeProductoCve.unidadDeManejoCve.unidadDeManejoDs}"/>
					</p:column>
					<p:column headerText="Lote">
						<h:outputText value="#{partida.unidadDeProductoCve.productoCve.productoDs}"/>
					</p:column>
					<p:column headerText="Caducidad">
						<h:outputText value="#{partida.valorMercancia}"/>
					</p:column>
					<p:column headerText="Pedimento">
						<h:outputText value="#{partida.noTarimas}"/>
					</p:column>
					<p:column headerText="SAP">
						<h:outputText value="#{partida.noTarimas}"/>
					</p:column>
					<p:column headerText="Cant. Requerida">
						<h:outputText value="#{partida.noTarimas}"/>
					</p:column>
					<p:column headerText="Unidad">
						<h:outputText value="#{partida.noTarimas}"/>
					</p:column>
					<p:column headerText="Peso aprox. (kg)">
						<h:outputText value="#{partida.noTarimas}"/>
					</p:column>
					<p:column headerText="Temperatura °C">
						<h:outputText value="#{partida.noTarimas}"/>
					</p:column>
		</p:dataTable>
			</p:panel>
						<p:fieldset legend="Servicios Requeridos" styleClass="p-mt-4">
                		<p:dataTable id="dt-serviciosReq" widgetVar="dtServiciosReq" value="#{constanciaDeDepositoBean.listadoPartida}" var="servicios" paginator="false"
							  rowSelectMode="add" rows="10" rowKey="#{servicios.pesoTotal}" reflow="true" selection="#{constanciaDeDepositoBean.selectedPartidas}" tableStyle="table-layout: auto;">
					<p:column exportable="false" width="3%">
						<p:rowToggler />
					</p:column>							
					<p:column headerText="Servicio">
						<h:outputText value="#{servicios.camaraCve.camaraAbrev}"/>
					</p:column>
					<p:column headerText="Cantidad">
						<h:outputText value="#{servicios.pesoTotal}"/>
					</p:column>
					<p:column headerText="Unidad">
						<h:outputText value="#{servicios.cantidadTotal}"/>
					</p:column>
					<p:column headerText="Observación">
						<h:outputText value="#{servicios.unidadDeProductoCve.unidadDeManejoCve.unidadDeManejoDs}"/>
					</p:column>
		</p:dataTable>
		</p:fieldset>
		
		 <h5 class="mt-0">Basic</h5>
        <p:splitButton value="Guardar" action="#{ordenSalidaBean.guardar}" update="messages" icon="pi pi-save">
            <p:menuitem value="Nueva orden de salida" action="#{ordenSalidaBean.reload}" update="messages" process="@this" icon="pi pi-refresh"/>
            <p:divider />
            <p:menuitem value="Homepage" url="http://localhost:8080/gestion/dashboard.xhtml" icon="pi pi-home"/>
        </p:splitButton>
		
		</h:form>
	</ui:define>
</ui:composition>