<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <p:panel id="pnl-datos-generales" header="DATOS GENERALES" >
        <p:datePicker id="fecha" showIcon="true" styleClass="p-mr-4 p-mb-2" placeholder="Fecha" disabled="#{(altaConstanciaServicioBean.usuario.perfil == 1) or (altaConstanciaServicioBean.usuario.perfil == 4)}" value="#{altaConstanciaServicioBean.fecha}" >
            <p:ajax process="@this" />
            <f:convertDateTime pattern="dd/MM/yyyy" locale="es" timeZone="GMT-6:00"/>
        </p:datePicker>
        <p:inputText id="txtFolio" value="#{altaConstanciaServicioBean.folio}" placeholder="Folio" />
        <p:toolbar>
            <p:toolbarGroup>
                <p:selectOneMenu id="cliente-som" autoWidth="false" value="#{altaConstanciaServicioBean.idCliente}" filter="true" filterMatchMode="contains" 
                                 onchange="PF('statusInfoDialog').show();">
                    <f:selectItem itemLabel="Selecione Cliente" itemValue="" noSelectionOption="true" />
                    <f:selectItems var="cte" value="#{altaConstanciaServicioBean.clientes}" itemLabel="#{cte.alias eq null ? cte.nombre : cte.alias.concat(' - ').concat(cte.nombre)}" itemValue="#{cte.cteCve}" />
                    <p:ajax listener="#{altaConstanciaServicioBean.filtrarCliente}" process="@this" update=":form:selProducto :form:selServicio :form:txtFolio" oncomplete="PF('statusInfoDialog').hide();"/>
                </p:selectOneMenu>
                <p:spacer width="5rem" />
                <p:selectOneMenu id="s-planta" autoWidth="false" converter="entityConverter" value="#{altaConstanciaServicioBean.plantaSelect}"
                                 onchange="PF('statusInfoDialog').show();" >
                    <f:selectItem itemLabel="Seleccione una planta" itemValue="" noSelectionOption="true" />
                    <f:selectItems value="#{altaConstanciaServicioBean.listadoPlantas}" var="planta" itemLabel="#{planta.plantaDs}" itemValue="#{planta}" />
                    <p:ajax listener="#{altaConstanciaServicioBean.filtrarCliente}" process="@this" update=":form:selProducto :form:selServicio :form:txtFolio" oncomplete="PF('statusInfoDialog').hide();" />
                </p:selectOneMenu>
            </p:toolbarGroup>
        </p:toolbar>
    </p:panel>
</ui:composition>