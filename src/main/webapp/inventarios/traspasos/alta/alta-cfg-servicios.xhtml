<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <p:panel id="pnl-datos-generales" header="DATOS GENERALES DEL CLIENTE" >
        <div class="p-grid ui-fluid p-col-12">
            <div class="p-card p-col-6 p-md-6">
                <p:selectOneMenu id="Cliente" autoWidth="false" value="#{altaTraspasoBean.idCliente}" filter="true" filterMatchMode="contains" onchange="PF('statusInfoDialog').show();">
                    <f:selectItem itemLabel="Seleccione Cliente" itemValue="" noSelectionOption="true" />
                    <f:selectItems var="cte" value="#{altaTraspasoBean.clientes}" itemLabel="#{cte.alias eq null ? cte.nombre : cte.alias.concat(' - ').concat(cte.nombre)}" itemValue="#{cte.cteCve}" />
                    <p:ajax listener="#{altaTraspasoBean.filtrarCliente}" process="@this" update=":form:traspaso :form:selServicio" oncomplete="PF('statusInfoDialog').hide();"/>
                </p:selectOneMenu>
            </div>
            <div class="p-card p-col-4 p-md-4">
                <p:selectOneMenu id="s-planta" autoWidth="false" converter="entityConverter" value="#{altaTraspasoBean.plantaSelect}" onchange="PF('statusInfoDialog').show();">
                    <f:selectItem itemLabel="Seleccione una planta" itemValue="" noSelectionOption="true" />
                    <f:selectItems value="#{altaTraspasoBean.listadoPlantas}" var="planta" itemLabel="#{planta.plantaDs}" itemValue="#{planta}" />
                    <p:ajax listener="#{altaTraspasoBean.filtrarCliente}" update="form:traspaso form:selServicio" oncomplete="PF('statusInfoDialog').hide();"/>
                </p:selectOneMenu>
            </div>
            <div class="p-card p-col-2 p-md-2">
                <p:datePicker id="fecha" showIcon="true" styleClass="p-mr-4 p-mb-2" placeholder="#{altaTraspasoBean.fecha}" disabled="#{(altaTraspasoBean.usuario.perfil == 1) or (altaTraspasoBean.usuario.perfil == 4)}" value="#{altaTraspasoBean.fecha}" >
                    <p:ajax process="@this" />
                    <f:convertDateTime pattern="dd/MM/yyyy" locale="es_MX" timeZone="GMT-6"/>
                </p:datePicker>
            </div>
            <div class="p-card p-col-2 p-md-2">
                <p:inputText id="txtFolio" value="#{altaTraspasoBean.numero}" placeholder="Folio" readonly="true"/>
            </div>
        </div>
    </p:panel>
</ui:composition>