<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <p:panel id="pnl-traspaso-origen" header="ORIGEN" >
        <p:dataTable id="traspaso" widgetVar="dt-traspaso" var="inventario" value="#{altaTraspasoBean.inventario}" reflow="true" rowKey="#{inventario.folioCliente}"
                paginator="true" rows="10" rowSelectMode="add" paginatorPosition="bottom" selectionMode="single">
            <p:column style="width:1rem">
                <p:rowToggler/>
            </p:column>
            <p:column filterBy="#{inventario.folioCliente}" filterMatchMode="contains" width="5rem">
                <f:facet name="filter">
                    <p:selectOneMenu onchange="PF('dt-traspaso').filter();PF('statusInfoDialog').show();">
                        <f:selectItem itemLabel="Folio" itemValue="#{null}" noSelectionOption="true"/>
                        <f:selectItems value="#{altaTraspasoBean.listaEntradas}" />
                        <p:ajax process="@this" oncomplete="PF('statusInfoDialog').hide();" />
                    </p:selectOneMenu>
                </f:facet>
                <h:outputText value="#{inventario.folioCliente}" />
            </p:column>
            <p:column headerText="Producto" sortBy="#{inventario.producto.productoDs}" >
                <h:outputText value="#{inventario.producto.productoDs}" />
            </p:column>
            <p:column headerText="Cantidad" width="4rem">
                <h:outputText value="#{inventario.cantidad}" />
            </p:column>
            <p:column headerText="Unidad" width="4rem">
                <h:outputText value="#{inventario.unidadManejo.unidadDeManejoDs}" />
            </p:column>
            <p:column headerText="Peso (kg)" width="5rem">
                <h:outputText value="#{inventario.peso}" />
            </p:column>
            <p:column headerText="Planta" width="3rem">
                <h:outputText value="#{inventario.planta.plantaAbrev}" />
            </p:column>						   
            <p:column headerText="Camara" width="10rem">
                <h:outputText value="#{inventario.camara.camaraDs}" />
            </p:column>
            <p:rowExpansion>
                <div class="p-grid ui-fluid">
                    <div class="p-field p-col-2 p-md-2" align="center">
                        <p:outputLabel for="@next" styleClass="block" value="CÃ³digo" />
                        <p:inputText value="#{inventario.codigo}" readonly="true" styleClass="block" />
                    </div>
                    <div class="p-field p-col-2 p-md-2" align="center">
                        <p:outputLabel for="@next" styleClass="block" value="Caducidad"/><p:inputText value="#{inventario.caducidad}" readonly="true" styleClass="block"/>
                    </div>
                    <div class="p-field p-col-2 p-md-2" align="center" >
                        <p:outputLabel for="@next" styleClass="block"  value="Lote"/><p:inputText value="#{inventario.lote}" readonly="true" styleClass="block"/>
                    </div>
                    <div class="p-field p-col-2 p-md-2" align="center">
                        <p:outputLabel for="@next" value="SAP"/><p:inputText value="#{inventario.sap}" readonly="true" />
                    </div>
                    <div class="p-field p-col-2 p-md-2" align="center">
                        <p:outputLabel for="@next" value="Peso"/><p:inputText value="#{inventario.peso}" readonly="true" />
                    </div>
                    <div class="col-2"><p:divider layout="vertical"/></div>
                    <div class="field" align="center">
                        <H6>-</H6>
                        <p:commandButton icon="pi pi-sign-out" update=":form:pnlCliente" value="Traspasar" onstart="PF('statusInfoDialog').show();" oncomplete="PF('statusInfoDialog').hide();PF('dialogCliente').show();" style="width:100px;height:30px" styleClass="ui-button-raised" process="@this" >
                            <f:setPropertyActionListener value="#{inventario}" target="#{altaTraspasoBean.selectedInventario}" />
                        </p:commandButton>
                    </div>
                </div>    
            </p:rowExpansion>
            <p:ajax event="page" onstart="PF('statusInfoDialog').show();" oncomplete="PF('statusInfoDialog').hide();" />
        </p:dataTable>
    </p:panel>
</ui:composition>