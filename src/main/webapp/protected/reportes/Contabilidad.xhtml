<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="title">Contabilidad</ui:define>

    <ui:define name="content">
        <h:form id="form" enctype="multipart/form-data">
        	<ui:include src="/protected/common/status-info.xhtml" />
			<p:panel>
				<div class="p-grid ui-fluid">
					<div class="p-col-6 p-md-3">
						<p:outputLabel value="Inicio periodo"/>
						<p:datePicker value="#{reporteContabilidadBean.fecha_ini}" placeholder="Ej. dd/MM/yyyy" maxdate="#{reporteContabilidadBean.maxDate}" showIcon="true" pattern="dd/MM/yyyy" locale="es_MX" timeZone="GMT-6">
		                	<p:ajax process="@this" />
		                </p:datePicker>
					</div>
					<div class="p-col-6 p-md-3">
						<p:outputLabel value="Fin periodo"/>
						<p:datePicker value="#{reporteContabilidadBean.fecha_fin}" placeholder="Ej. dd/MM/yyyy" showIcon="true" pattern="dd/MM/yyyy" locale="es_MX" timeZone="GMT-6">
		                	<p:ajax process="@this"/>
		                </p:datePicker>
					</div>
					<div class="p-col-12 p-md-6">
						<p:outputLabel value="Cliente" />
						<p:selectOneMenu value="#{reporteContabilidadBean.clienteSelect}" converter="entityConverter" filter="true" filterMatchMode="contains" autoWidth="false">
							<f:selectItem itemLabel="Todos los clientes" />
							<f:selectItems value="#{reporteContabilidadBean.listaClientes}" var="cliente"  itemLabel="#{cliente.alias eq null or cliente.alias eq '' ? cliente.nombre : cliente.alias.concat(' - ').concat(cliente.nombre) }" itemValue="#{cliente}" />
							<p:ajax process="@this" />
						</p:selectOneMenu>
					</div>
					<div class="p-col-6 p-md-6">
						<p:selectOneRadio value="#{reporteContabilidadBean.tipoReporte}" >
						    <f:selectItem itemLabel="ConciliaciÃ³n" itemValue="C" />
						    <f:selectItem itemLabel="Auxiliar de clientes" itemValue="A" />
						    <p:ajax process="@this" />
						</p:selectOneRadio>
					</div>
					<div class="p-col-3 p-md-3">
						<p:commandButton icon="pi pi-file-pdf" value="PDF" actionListener="#{reporteContabilidadBean.exportarPdf}" process="@this" ajax="false" styleClass="ui-button-raised ui-button-secondary">
							<p:fileDownload value="#{reporteContabilidadBean.file}" />
						</p:commandButton>  
					</div>
					<div class="p-col-3 p-md-3">
						<p:commandButton icon="pi pi-file-excel" value="Excel" actionListener="#{reporteContabilidadBean.exportarExcel}" process="@this" ajax="false" styleClass="ui-button-raised ui-button-secondary">
							<p:fileDownload value="#{reporteContabilidadBean.file}" />
						</p:commandButton>  
					</div>
				</div>
			</p:panel>
        </h:form>
    </ui:define>
</ui:composition>