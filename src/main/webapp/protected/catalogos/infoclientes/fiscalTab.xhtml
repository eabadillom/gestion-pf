<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <p:outputPanel id="pnlCliente" class="ui-fluid">
        <p:outputPanel class="p-grid p-col-12">
            <div class="p-field p-col-12 p-md-4">
                <p:outputLabel>Tipo persona</p:outputLabel>
                <p:selectOneRadio id="tP" value="#{clientesBean.clienteSelected.tipoPersona}" layout="grid" columns="3"
                                  styleClass="grid-radio" required="true" requiredMessage="Debe indicar el tipo de persona">
                    <f:selectItem itemLabel="Persona Moral" itemValue="M" />
                    <f:selectItem itemLabel="Persona Fisica" itemValue="F" />
                    <p:ajax listener="#{clientesBean.filtrarRegimenesFiscales()}" process="@this txtRFC" update="form:tabView:pnlCliente form:tabView:regimenFiscal form:tabView:usoCFDI" />
                </p:selectOneRadio>
            </div>
            <div class="p-field p-col-12 p-md-2">
                <p:outputLabel for="txtRFC">RFC</p:outputLabel>
                <p:inputText id="txtRFC" value="#{clientesBean.clienteSelected.cteRfc}" maxlength="13" style="text-transform: uppercase">
                    <p:ajax event="blur" listener="#{clientesBean.validarRFC()}" update="txtCodigo" />
                </p:inputText>
            </div>
            <div class="p-field p-col-12 p-md-2">
                <p:outputLabel>Número cliente</p:outputLabel>
                <p:inputText value="#{clientesBean.clienteSelected.numeroCte}" maxlength="15" > 
                    <p:ajax process="@this" />
                </p:inputText>
            </div>
            <div class="p-field p-col-12 p-md-2">
                <p:outputLabel for="txtCodigo">Código único</p:outputLabel>
                <p:inputText id="txtCodigo" value="#{clientesBean.clienteSelected.codUnico}" maxlength="4" style="text-transform: uppercase"/>
            </div>
            <div class="p-field p-col-12 p-md-4">
                <p:outputLabel for="txtNombre">Nombre</p:outputLabel>
                <p:inputText id="txtNombre" value="#{clientesBean.clienteSelected.nombre}" required="true" style="text-transform: uppercase"
                             requiredMessage="Debe indicar el nombre" maxlength="150" > 
                    <p:ajax process="@this"/>
                </p:inputText>
            </div>
            <div class="p-field p-col-12 p-md-4">
                <p:outputLabel for="txtAlias">Alias</p:outputLabel>
                <p:inputText id="txtAlias" value="#{clientesBean.clienteSelected.alias}" required="false" style="text-transform: uppercase"
                             maxlength="150" readonly="#{clientesBean.clienteSelected.tipoPersona != 'M'}" />
            </div>
            <div class="p-field p-col-12 p-md-4">
                <p:outputLabel for="txtRegimenCapital">Régimen capital</p:outputLabel>
                <p:inputText id="txtRegimenCapital" value="#{clientesBean.clienteSelected.regimenCapital}" style="text-transform: uppercase"
                             readonly="#{clientesBean.clienteSelected.tipoPersona eq 'F'}" maxlength="150">
                    <p:ajax process="@this"/>
                </p:inputText>
            </div>
            <div class="p-field p-col-12 p-md-4">
                <p:outputLabel>Régimen Fiscal</p:outputLabel>
                <p:selectOneMenu id="regimenFiscal" value="#{clientesBean.clienteSelected.regimenFiscal}"
                                 required="true" requiredMessage="Debe indicar el régimen fiscal" widgetVar="selectRegimenFiscal"
                                 converter="entityConverter" filter="true" filterMatchMode="contains" autoWidth="false">
                    <f:selectItem itemLabel="---Regimen Fiscal---" noSelectionOption="true" />
                    <f:selectItems value="#{clientesBean.lstRegimenFiscalFiltered}" var="regimen"
                                   itemLabel="#{regimen.cd_regimen} - #{regimen.nb_regimen}" itemValue="#{regimen}" />
                    <p:ajax process="@this"/>
                </p:selectOneMenu>
            </div>
            <div class="p-field p-col-12 p-md-4">
                <p:outputLabel>Uso del CFDI</p:outputLabel>
                <p:selectOneMenu id="usoCFDI" value="#{clientesBean.clienteSelected.usoCfdi}"
                                 converter="entityConverter" required="true" requiredMessage="Debe indicar el uso del CFDI"
                                 filter="true" filterMatchMode="contains" autoWidth="false">
                    <f:selectItem itemLabel="---Uso del CFDI---" noSelectionOption="true" />
                    <f:selectItems value="#{clientesBean.lstUsoCfdiFiltered}" var="usoCFDI"
                                   itemLabel="#{usoCFDI.cdUsoCfdi} - #{usoCFDI.usoCfdi}" itemValue="#{usoCFDI}" />
                    <p:ajax process="@this"/>
                </p:selectOneMenu>
            </div>
            <div class="p-field p-col-12 p-md-4">
                <p:outputLabel>Método de pago</p:outputLabel>
                <p:selectOneMenu id="metodoPago" value="#{clientesBean.clienteSelected.metodoPago}"
                                 converter="entityConverter" required="true" requiredMessage="Debe indicar el método de pago"
                                 filter="true" filterMatchMode="contains" autoWidth="false">
                    <f:selectItem itemLabel="---Método de pago---" noSelectionOption="true" />
                    <f:selectItems value="#{clientesBean.lstMetodoPago}" var="metodoPago"
                                   itemLabel="#{metodoPago.cdMetodoPago} - #{metodoPago.nbMetodoPago}" itemValue="#{metodoPago}" />
                    <p:ajax process="@this"/>
                </p:selectOneMenu>
            </div>
            <div class="p-field p-col-12 p-md-4">
                <p:outputLabel>Forma de pago</p:outputLabel>
                <p:selectOneMenu id="formaPago" value="#{clientesBean.clienteSelected.formaPago}" required="true"
                                 requiredMessage="Debe indicar la forma de pago" filter="true" filterMatchMode="contains"
                                 autoWidth="false">
                    <f:selectItem itemLabel="---Forma de pago---" noSelectionOption="true" />
                    <f:selectItems value="#{clientesBean.lstMedioPago}" var="medioPago"
                                   itemLabel="#{medioPago.formaPago} - #{medioPago.mpDescripcion}"
                                   itemValue="#{medioPago.formaPago}" />
                    <p:ajax process="@this"/>
                </p:selectOneMenu>
            </div>
            <div class="p-field p-col-12 p-md-4">
                <p:outputLabel>Correo</p:outputLabel>
                <p:inputText value="#{clientesBean.clienteSelected.cteMail}" required="true"
                             requiredMessage="Debe indicar un correo electrónico" maxlength="255" >
                    <p:ajax process="@this" />
                </p:inputText>
            </div>
            <div class="p-field p-col-2 p-md-4">
                <p:outputLabel for="chkHabilitado" value="Habilitado" />
                <p:selectOneMenu id="chkHabilitado" value="#{clientesBean.clienteSelected.habilitado}">
                    <f:selectItem itemLabel="Sí" itemValue="#{true}" />
                    <f:selectItem itemLabel="No" itemValue="#{false}" />
                    <p:ajax process="@this"/>
                </p:selectOneMenu>
            </div>
        </p:outputPanel>
    </p:outputPanel>

</ui:composition>