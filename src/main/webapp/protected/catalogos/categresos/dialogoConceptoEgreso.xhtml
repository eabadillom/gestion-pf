<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <p:dialog id="dlgConc"
              widgetVar="dlgConc"
              modal="true"
              header="#{catConceptoEgresoBean.selected.id == null ? 'Nuevo' : 'Editar'} Concepto de Egreso"
              resizable="false"
              dynamic="true"
              style="max-width:80em;">

        <p:outputPanel class="ui-fluid">
            <p:scrollPanel mode="native" style="height: 400px; overflow:auto;">
                <div class="p-grid">
                    <div class="p-col-12">
                        <p:outputLabel for="nombreConc" value="Nombre:"/>
                        <p:inputText id="nombreConc"
                                     value="#{catConceptoEgresoBean.selected.nombre}"
                                     required="true"
                                     maxlength="100"
                                     style="width:100%"><p:ajax process="@this"/></p:inputText>
                    </div>
                    <div class="p-col-12 p-md-3">
                        <p:outputLabel for="cdSat"  value="Clave Sat:"/>
                        <p:inputText id="cdSat" 
                                     value="#{catConceptoEgresoBean.selected.codigoSAT}"
                                     required="true"
                                     maxlength="8"
                                     style="width:100%"><p:ajax process="@this"/></p:inputText>
                    </div>
                    <div class="p-col-12 p-md-3">
                        <p:outputLabel for="stDedu" value="¿Es deducible?"/>
                        <p:selectOneMenu id="stDedu" value="#{catConceptoEgresoBean.selected.esDeducible}">
                            <f:selectItem itemLabel="Sí" itemValue="true" />
                            <f:selectItem itemLabel="No" itemValue="false" />
                            <p:ajax process="@this"/>
                        </p:selectOneMenu>
                    </div>
                    <div class="p-col-12 p-md-3">
                        <p:outputLabel for="stCFDI" value="¿Requiere CFDI?"/>
                        <p:selectOneMenu id="stCFDI" value="#{catConceptoEgresoBean.selected.requiereCFDI}">
                            <f:selectItem itemLabel="Sí" itemValue="true" />
                            <f:selectItem itemLabel="No" itemValue="false" />
                            <p:ajax process="@this"/>
                        </p:selectOneMenu>
                    </div>
                    <div class="p-col-12 p-md-3">
                        <p:outputLabel for="stCFDIDedu" value="¿Es deducible por CFDI?"/>
                        <p:selectOneMenu id="stCFDIDedu" value="#{catConceptoEgresoBean.selected.requiereCFDIDeducible}">
                            <f:selectItem itemLabel="Sí" itemValue="true" />
                            <f:selectItem itemLabel="No" itemValue="false" />
                            <p:ajax process="@this"/>
                        </p:selectOneMenu>
                    </div>
                    <div class="p-col-12 p-md-3">
                        <p:outputLabel for="stIVA" value="¿Tiene IVA?"/>
                        <p:selectOneMenu id="stIVA" value="#{catConceptoEgresoBean.selected.tieneIVA}">
                            <f:selectItem itemLabel="Sí" itemValue="true" />
                            <f:selectItem itemLabel="No" itemValue="false" />
                            <p:ajax process="@this"/>
                        </p:selectOneMenu>
                    </div>
                    <div class="p-col-12 p-md-3">
                        <p:outputLabel for="pcIVA" value="Porcentaje IVA:"/>
                        <p:inputNumber id="pcIVA"
                                       value="#{catConceptoEgresoBean.selected.porcentajeIVA}"
                                       decimalPlaces="3"
                                       maxValue="100.000"
                                       minValue="0"
                                       symbol="%"
                                       symbolPosition="s"
                                       inputStyle="width:120px"><p:ajax process="@this"/></p:inputNumber>
                    </div>
                    <div class="p-col-12 p-md-3">
                        <p:outputLabel for="stIEPS" value="¿Tiene IEPS?"/>
                        <p:selectOneMenu id="stIEPS" value="#{catConceptoEgresoBean.selected.tieneIEPS}">
                            <f:selectItem itemLabel="Sí" itemValue="true" />
                            <f:selectItem itemLabel="No" itemValue="false" />
                            <p:ajax process="@this"/>
                        </p:selectOneMenu>
                    </div>
                    <div class="p-col-12 p-md-3">
                        <p:outputLabel for="pcIEPS" value="Porcentaje IEPS:"/>
                        <p:inputNumber id="pcIEPS"
                                       value="#{catConceptoEgresoBean.selected.porcentajeIEPS}"
                                       decimalPlaces="3"
                                       maxValue="100.000"
                                       minValue="0"
                                       symbol="%"
                                       symbolPosition="s"
                                       inputStyle="width:120px"><p:ajax process="@this"/></p:inputNumber>
                    </div>
                    <div class="p-col-12 p-md-3">
                        <p:outputLabel for="stActiFijo" value="¿Es activo fijo?"/>
                        <p:selectOneMenu id="stActiFijo" value="#{catConceptoEgresoBean.selected.esActivoFijo}">
                            <f:selectItem itemLabel="Sí" itemValue="true" />
                            <f:selectItem itemLabel="No" itemValue="false" />
                            <p:ajax process="@this"/>
                        </p:selectOneMenu>
                    </div>
                </div>
            </p:scrollPanel>
        </p:outputPanel>
        <f:facet name="footer">
            <p:commandButton id="btnOperConc"
                             value="#{catConceptoEgresoBean.selected.id == null ? 'Guardar' : 'Actualizar'}"
                             icon="pi pi-save"
                             action="#{catConceptoEgresoBean.operar}"
                             update="form:tbConc"
                             process="@this" />

            <p:commandButton id="btnCancConc"
                             value="Cancelar"
                             icon="pi pi-times"
                             styleClass="ui-button-secondary p-ml-2" 
                             immediate="true"
                             oncomplete="PF('dlgConc').hide()"/>
        </f:facet>

    </p:dialog>

</ui:composition>