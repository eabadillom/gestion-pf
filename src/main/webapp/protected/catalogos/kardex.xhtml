<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">
	<ui:define name="title">Kardex</ui:define>

	<ui:define name="content">
		<h:form id="form">
			<p:breadCrumb>
				<p:menuitem value="Home" outcome="/dashboard" />
				<p:menuitem value="Inventarios" />
				<p:menuitem value="Kardex" outcome="/protected/catalogos/kardex" />
			</p:breadCrumb>

			<div class="p-grid kardex">
				<div class="p-col-12">
					<div class="card">
						<p:growl id="messages" showDetail="true" />
						<div class="p-col-12">
							<div class="card">
								<span class="ui-float-label">								 
								 <p:inputText id="folioSelected" value="#{kardexBean.folioClienteSelected}"/>
								 <p:outputLabel for="@previous"	value="Folio" styleClass="ui-float-label p-mr-2 p-mb-2" /> 
								 <p:commandButton id="buscarFolio" actionListener="#{kardexBean.buscaDatos()}"
										icon="pi pi-search" process="@this folioSelected"
										styleClass="edit-button ui-button-primary" value="Buscar"
										update="dt-entradasKardex" /> <p:commandButton
										value="Limpiar" styleClass="edit-button ui-button-secondary" />
								</span>
							</div>
							
							<p:dataTable var="pPartidas" id="dt-entradasKardex"
								value="#{kardexBean.listPartida}" paginator="true"
								rows="10" paginatorPosition="bottom" rowKey="#{partida.partidaCve}">
								<p:headerRow field="partidaCve">
									<p:column colspan="6">
										<div class="p-d-inline-flex p-ai-center"
											style="vertical-align: middle">
											<h:outputText styleClass="p-ml-2" value="#{kardexBean.clienteSelected.cteCve}" />
											<h:outputText styleClass="p-ml-2" value="#{kardexBean.clienteSelected.cteNombre}" />
										</div>
									</p:column>
								</p:headerRow>
								<p:column style="width:2rem" width="5">
									<p:rowToggler />
								</p:column>

								<p:column headerText="Fecha de ingreso" width="40">
									<h:outputText value="#{kardexBean.constanciaDepositoSelected.fechaIngreso}" />
								</p:column>

								<p:column headerText="Entrada" width="40">
									<h:outputText value="#{kardexBean.constanciaDepositoSelected.folio}" />
								</p:column>

								<p:column headerText="Producto" width="120">
									<h:outputText value="#{pPartidas.unidadDeProductoCve.productoCve.productoDs}" />
								</p:column>

								<p:column headerText="Piezas Entrada" width="20">
									<h:outputText value="#{pPartidas.cantidadTotal}"  />
								</p:column>

								<p:column headerText="Unidad" width="30">
									<h:outputText value="#{pPartida.unidadDeProductoCve.unidadDeManejoCve.unidadDeManejoDs}" />
								</p:column>

								<p:column headerText="Kilos Entrada" width="30">
									<h:outputText value="#{pPartida.pesoTotal}" />
								</p:column>

								<p:column headerText="Planta" width="30">
									<h:outputText value="#{pPartida.camaraCve.plantaCve.plantaDs}" />
								</p:column>

								<p:column headerText="CÃ¡mara" width="50">
									<h:outputText value="#{pPartida.camaraCve.camaraDs}" />
								</p:column>

								<p:rowExpansion>
									<div class="st-Salidas">
										<p:dataTable var="dt-salidasKardex"
											value="#{dataTableDemoView.products1}" paginator="true"
											rows="10" paginatorPosition="bottom" rowKey="#{product.id}">
											<p:column headerText="Fecha" width="30">
												<h:outputText value="22-06-2022" />
											</p:column>
											<p:column headerText="Entrada" width="40">
												<h:outputText value="F-Entrada1" />
											</p:column>

											<p:column headerText="Salida" width="30">
												<h:outputText value="F-Salida1" />
											</p:column>
											<p:column headerText="Producto" width="150">
												<h:outputText value="Harvest pride C Recto 7/16 13.610 KG" />
											</p:column>
											<p:column headerText="Piezas Salida" width="30">
												<h:outputText value="10" />
											</p:column>
											<p:column headerText="Unidad" width="30">
												<h:outputText value="Cajas" />
											</p:column>
											<p:column headerText="Kilos Salida" width="30">
												<h:outputText value="10" />
											</p:column>
										</p:dataTable>
									</div>
									<div class="card">
										<div class="ui-fluid p-formgrid p-grid">
											<div class="p-field p-col-12 p-md-6">
												<p:outputLabel for="cdTotales" value="Totales" />
												<h:outputText id="cdTotales" value="40" />
											</div>
										</div>
									</div>
								</p:rowExpansion>
							</p:dataTable>


						</div>
					</div>
				</div>

			</div>
		</h:form>
	</ui:define>
</ui:composition>